Testes Automatizados do SENAI Bank

Este projeto faz parte do trabalho acadÃªmico de Testes Backend, cujo objetivo Ã© validar a integridade das operaÃ§Ãµes de transferÃªncia do sistema SENAI Bank.
Foram implementados testes unitÃ¡rios e de integraÃ§Ã£o, seguindo boas prÃ¡ticas e cobrindo cenÃ¡rios positivos e negativos.

ğŸ“Œ Objetivo do Projeto

Garantir a qualidade da API de transferÃªncias bancÃ¡rias, assegurando:

CorreÃ§Ã£o matemÃ¡tica das operaÃ§Ãµes

Tratamento de erros

Robustez contra entradas invÃ¡lidas

Cobertura dos principais fluxos do sistema

O desenvolvedor sÃªnior havia implementado a lÃ³gica base, mas faltavam testes e validaÃ§Ãµes, que foram adicionadas neste trabalho.

ğŸ“‚ Estrutura do Projeto
src/
  â”œâ”€â”€ api.js
  â””â”€â”€ bankService.js
tests/
  â”œâ”€â”€ api.test.js
  â””â”€â”€ bankService.test.js
package.json
README.md

ğŸ›  ConfiguraÃ§Ã£o do Ambiente
1. Instalar dependÃªncias
npm install

2. DependÃªncias utilizadas

Jest â†’ Testes unitÃ¡rios

Supertest â†’ Testes de integraÃ§Ã£o das rotas HTTP

Express â†’ API de transferÃªncias

ğŸ§ª Testes Implementados
âœ” Testes UnitÃ¡rios â€“ bankService.test.js

Testam a funÃ§Ã£o transfer() isoladamente.

CenÃ¡rios cobertos:
CenÃ¡rio	DescriÃ§Ã£o
Caminho Feliz	TransferÃªncia vÃ¡lida subtrai e adiciona valores corretamente
Saldo Insuficiente	Impede transferÃªncias acima do saldo
Valor Zero	Valor igual a 0 Ã© rejeitado
Valor Negativo	Valores negativos sÃ£o invÃ¡lidos
UsuÃ¡rio inexistente	Erro ao informar IDs que nÃ£o existem
âœ” Testes de IntegraÃ§Ã£o â€“ api.test.js

Utilizam o Supertest para validar a rota POST /transfer como um cliente real faria.

CenÃ¡rios cobertos:
CenÃ¡rio	VerificaÃ§Ã£o
200 â€“ Sucesso	TransferÃªncia correta retorna status 200
400 â€“ Campo faltando	Falta do campo amount retorna erro
400 â€“ UsuÃ¡rio inexistente	API retorna erro adequado
ğŸ” ValidaÃ§Ãµes adicionadas ao sistema

O bankService.js foi aprimorado para incluir:

VerificaÃ§Ã£o de usuÃ¡rios inexistentes

ProibiÃ§Ã£o de valores â‰¤ 0

Checagem de saldo insuficiente

Erros claros e consistentes

Essas validaÃ§Ãµes garantem seguranÃ§a e seguem os princÃ­pios ACID.

â–¶ Rodando os testes
npm test


Se tudo estiver correto, o resultado serÃ¡:

Test Suites: 2 passed, 2 total
Tests:       8 passed, 8 total

ğŸ“‘ CenÃ¡rios de Teste (Tabela do Trabalho)
ID	Tipo	CenÃ¡rio	Entrada	Resultado Esperado
1	Positivo	Caminho feliz	sender=1, receiver=2, amount=100	200 OK, saldo atualizado
2	Negativo	Saldo insuficiente	amount maior que saldo	Erro "Saldo insuficiente"
3	Limite	Valor zero	amount = 0	Erro "Valor invÃ¡lido"
4	Limite	Valor negativo	amount = -10	Erro "Valor invÃ¡lido"
5	Input	UsuÃ¡rio inexistente	senderId ou receiverId invÃ¡lidos	Erro "UsuÃ¡rio nÃ£o encontrado"
6	Input	Campo faltando	amount ausente	400 â€“ "Dados incompletos"

ğŸ‘¨â€ğŸ’» ConclusÃ£o

Foram implementados testes unitÃ¡rios e de integraÃ§Ã£o que validam as principais regras da API do SENAI Bank, garantindo confiabilidade e seguranÃ§a nos processos de transferÃªncia.